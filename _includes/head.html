<head>
  <meta charset=utf-8>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  {% include favicon-links.html %}
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {% include social_meta.html %}
  <title>{% if page.title %}{{ page.title | escape }} - {% endif %}{{ site.title | escape }}</title>
  <meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">


  <link rel="stylesheet" href="{{ "/assets/css/site.css" | prepend: site.baseurl }}" />
  <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}" />
  {% if page.feed %}
    <link type="application/atom+xml" rel="alternate" href="{{ page.feed | absolute_url }}" title="{{ page.title }}" />
  {% endif %}

  {% if layout.feed %}
    <link type="application/atom+xml" rel="alternate" href="{{ layout.feed | absolute_url }}" title="{{ page.title }}" />
  {% endif %}

  <script src="https://kit.fontawesome.com/5918af34b4.js" crossorigin="anonymous"></script>

  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll(".noscript").forEach(elem => {
        elem.classList.remove("noscript");
      });

      const bg = document.querySelector('#page-header--random-bg .bg > div');
      let images = [
        'header-bg-01', 'header-bg-02', 'header-bg-03', 'header-bg-04',
        'header-bg-01', 'header-bg-02', 'header-bg-03', 'header-bg-04',
        'header-bg-01', 'header-bg-02', 'header-bg-03', 'header-bg-04',
        'header-bg-01', 'header-bg-02', 'header-bg-03', 'header-bg-04',
        'header-bg-01', 'header-bg-02', 'header-bg-03', 'header-bg-04',
        'header-bg-01', 'header-bg-02', 'header-bg-03', 'header-bg-04',
        'header-bg-01', 'header-bg-02', 'header-bg-03', 'header-bg-04',
        'header-bg-01', 'header-bg-02', 'header-bg-03', 'header-bg-04',
        'header-bg-01', 'header-bg-02', 'header-bg-03', 'header-bg-04',
        'header-bg-01', 'header-bg-02', 'header-bg-03', 'header-bg-04',
        'header-bg-01', 'header-bg-02', 'header-bg-03', 'header-bg-04',
        'header-bg-01', 'header-bg-02', 'header-bg-03', 'header-bg-04',
        'header-bg-05'
      ];
      const chosenImage = images[Math.floor(Math.random() * images.length)];

      // Image 5 is special case--don't blur and don't use smaller version
      let isImg5 = (chosenImage === "header-bg-05");

      let filename;
      if(isImg5) filename = "header-bg-05.jpg";
      else filename = `${chosenImage}_70000.jpg`

      bg.style.backgroundImage = `url(/assets/images/core/${filename})`;
      if(!isImg5) bg.classList.add("blur");
    });
  </script>

  <!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "d431ecabd63d4eea9aeb6a714157d663"}'></script><!-- End Cloudflare Web Analytics -->
</head>
